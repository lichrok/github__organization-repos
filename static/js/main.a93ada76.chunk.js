(this["webpackJsonpgithub__organization-repos"]=this["webpackJsonpgithub__organization-repos"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),i=a(22),s=a(24),u=a(66);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(141),p=a(19),g=a(144);var d,m=function(e,t){var a=Object(n.useState)(e),r=Object(p.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e,t]),o},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"GET_REPOSITORIES",payload:{org:e,page:t}}},E=a(42),h=a(134),b=Object(h.a)((function(e){return{header:{position:"fixed",top:0,left:0,zIndex:3,width:"100%",backgroundColor:"#252a2f",padding:e.spacing(4,0)},searchForm:{backgroundColor:"#45494d",borderRadius:"6px"},searchInput:Object(E.a)(Object(E.a)({padding:e.spacing(1,2)},e.typography.h5),{},{color:"#fff",width:"100%"})}})),v=a(135),O=Object(s.b)(null,(function(e){return{onSubmit:function(t){e(f(t))}}}))((function(e){var t=e.onSubmit,a=b(),o=Object(n.useState)(""),c=Object(p.a)(o,2),i=c[0],s=c[1],u=m(i,800);Object(n.useEffect)((function(){u&&t(i)}),[u]);return r.a.createElement("div",{className:a.header},r.a.createElement(v.a,{maxWidth:"md"},r.a.createElement("form",{className:a.searchForm,onSubmit:function(e){e.preventDefault(),t(i)}},r.a.createElement(g.a,{className:a.searchInput,placeholder:"Start to type organization...",value:i,onChange:function(e){return s(e.target.value)}}))))})),S=a(143),j=a(139),x=a(140),y=a(110),T=a(142),w=a(136),_=a(145),C=a(137),k=a(138),R=a(61),I=a.n(R),P=a(63),N=a.n(P),U=a(62),z=a.n(U),B=Object(h.a)((function(e){return{container:{maxWidth:e.breakpoints.values.md,paddingTop:"120px"},card:{width:"100%",marginBottom:"20px",backgroundColor:"transparent",boxShadow:"none",borderBottom:"1px solid #e1e4e8"},cardContent:{display:"flex",flexDirection:"column",height:"100%"},statList:{marginTop:"8px"},stat:{display:"inline-block",color:"#6a737d","& svg":{height:"18px",width:"auto",fill:"#6a737d"},"&:not(:last-child)":{marginRight:e.spacing(3)}}}})),A=new Map([["stargazers",I.a],["watchers",z.a],["forks",N.a]]),W=function(e){var t=e.name,a=e.description,n=e.url,o=e.statistics,c=B(),i=Object.entries(o).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1],o=A.get(a);return r.a.createElement(w.a,{className:c.stat,badgeContent:n,max:999,showZero:!0,key:a},o&&r.a.createElement(o,null))}));return r.a.createElement(_.a,{className:c.card},r.a.createElement(C.a,{className:c.cardContent},r.a.createElement(y.a,{gutterBottom:!0,component:"h2"},r.a.createElement(k.a,{href:n,target:"_blank",rel:"norefferer"},t)),a&&r.a.createElement(y.a,{variant:"body2",color:"textSecondary",component:"p",paragraph:!0},a),r.a.createElement("div",{className:c.statList},i)))};!function(e){e[e.Pending=0]="Pending",e[e.Success=1]="Success",e[e.Error=2]="Error"}(d||(d={}));var Q=Object(s.b)((function(e){return{repositories:e.repositories,org:e.org,status:e.status,pageCount:e.pageCount}}),(function(e){return{onPaginationChange:function(t,a){e(f(t,a))}}}))((function(e){var t=e.repositories,a=e.status,o=e.pageCount,c=e.org,i=e.onPaginationChange,s=B(),u=Object(n.useState)(1),l=Object(p.a)(u,2),g=l[0],m=l[1],f=!!(null===t||void 0===t?void 0:t.length),E=r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",color:"error"},"Wrong organization name or no repositories.");return Object(n.useEffect)((function(){m(1)}),[c]),r.a.createElement(v.a,{className:s.container},a===d.Pending&&r.a.createElement(S.a,{textAlign:"center"},r.a.createElement(j.a,null)),a===d.Success&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,!f&&E,r.a.createElement(x.a,{container:!0},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(x.a,{item:!0,xs:12,key:e.url},r.a.createElement(W,e))})))),o>0&&f&&r.a.createElement(S.a,{display:"flex",justifyContent:"center",mt:3},r.a.createElement(T.a,{count:o,page:g,onChange:function(e,t){i(c,t),m(t)},color:"primary"}))),a===d.Error&&E)})),D=Object(h.a)((function(e){return{app:{display:"flex",flexDirection:"column",padding:e.spacing(5,0),minHeight:"100vh"}}}));var F=function(){var e=D();return r.a.createElement("div",{className:e.app},r.a.createElement(O,null),r.a.createElement(Q,null))},G={repositories:[],status:null,pageCount:0,org:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REPOSITORIES":return Object.assign({},e,{org:t.payload.org});case"SET_REPOSITORIES":return Object.assign({},e,{repositories:t.payload.repositories,pageCount:t.payload.pageCount||e.pageCount});case"SET_REQUEST_STATUS":return Object.assign({},e,{status:t.payload.status});default:return e}},J=a(23),H=a.n(J),M=a(20),Z=a(64),$=a.n(Z),q=a(65),K=a.n(q),V=$.a.create({baseURL:"https://api.github.com/"}),X=function(e){var t=e.org,a=e.perPage,n=void 0===a?12:a,r=e.page,o=void 0===r?1:r;return V.get("/orgs/".concat(t,"/repos"),{params:{per_page:n,page:o}}).then((function(e){var t,a,n=e.headers.link,r=null===(t=K()(n))||void 0===t||null===(a=t.last)||void 0===a?void 0:a.page;return{repositories:e.data,pageCount:r}}))},Y=function(e){return{name:e.name,description:e.description,url:e.html_url,statistics:{forks:e.forks_count,stargazers:e.stargazers_count,watchers:e.watchers_count}}},ee=H.a.mark(ne),te=H.a.mark(re),ae=H.a.mark(oe);function ne(e){var t,a,n,r,o;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(M.c)({type:"SET_REQUEST_STATUS",payload:{status:d.Pending}});case 3:return t=e.payload.org,a=e.payload.page,c.next=7,Object(M.b)(X,{org:t,page:a});case 7:return n=c.sent,r=n.repositories.map(Y),o=Number(n.pageCount),c.next=12,Object(M.c)({type:"SET_REPOSITORIES",payload:{repositories:r,pageCount:o}});case 12:return c.next=14,Object(M.c)({type:"SET_REQUEST_STATUS",payload:{status:d.Success}});case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(0),c.next=20,Object(M.c)({type:"SET_REQUEST_STATUS",payload:{status:d.Error}});case 20:case"end":return c.stop()}}),ee,null,[[0,16]])}function re(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.d)("GET_REPOSITORIES",ne);case 2:case"end":return e.stop()}}),te)}function oe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.a)([re()]);case 2:case"end":return e.stop()}}),ae)}var ce=Object(u.a)(),ie=Object(i.d)(L,Object(i.a)(ce));ce.run(oe),c.a.render(r.a.createElement(s.a,{store:ie},r.a.createElement(l.a,null),r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports=a(108)}},[[73,1,2]]]);
//# sourceMappingURL=main.a93ada76.chunk.js.map